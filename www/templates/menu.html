<ion-side-menus enable-menu-with-back-views="false">
  <ion-side-menu-content>
    <ion-nav-bar class="bar-stable">
      <ion-nav-back-button>
        {{ 'all-menu.back-button-label' | translate }}
      </ion-nav-back-button>

      <ion-nav-buttons side="left">
        <button class="button button-icon button-clear ion-navicon" menu-toggle="left"></button>
      </ion-nav-buttons>
    </ion-nav-bar>
    <ion-nav-view name="menuContent"></ion-nav-view>
  </ion-side-menu-content>

  <ion-side-menu side="left">
    <ion-header-bar class="bar-stable">
      <h1 class="title">{{ 'menu.title' | translate }}</h1>
    </ion-header-bar>
    <ion-content>
      <ion-list>
        <!--
        <ion-item class="item-text-wrap" ng-show="getCurrentUserId() == null" menu-close ui-sref="app.login">
          <i class="icon ion-log-in"></i>
          {{ 'menu.login-item' | translate }}
        </ion-item>
        <ion-item class="item-text-wrap" ng-hide="getCurrentUserId() == null" menu-close ng-click="doLogout()">
          <i class="icon ion-log-out"></i>
          {{ 'menu.logout-item' | translate }}
        </ion-item>
        <ion-item class="item-text-wrap" menu-close ng-click="reloadMap()"> <!--ui-sref="app.map">- ->
          <i class="icon ion-ios-location"></i>
          {{ 'menu.map-item' | translate }} 
        </ion-item>
        -->

        <ion-item ng-click="toggleCategories()" ng-class="{active: areCategoriesShown()}">
          {{ 'menu.categories-item' | translate }}&nbsp;
          <i class="icon" ng-class="areCategoriesShown() ? 'ion-arrow-up-b' : 'ion-arrow-down-b'"></i>
        </ion-item>
          <ion-item class="item-accordion" ng-repeat="category in translatedCategories" ng-show="areCategoriesShown()">
            <ion-checkbox class="checkbox-assertive item-text-wrap" ng-model="filter.selectedCategories[category.id]">{{category.label}}</ion-checkbox>
          </ion-item>

        <ion-item ng-click="toggleLocation()" ng-class="{active: isLocationShown()}">
          {{ 'menu.location-item' | translate }} &nbsp;
          <i class="icon" ng-class="isLocationShown() ? 'ion-arrow-up-b' : 'ion-arrow-down-b'"></i>
        </ion-item>
          <ion-item class="item-accordion" ng-show="isLocationShown()">
            <li class="item item-checkbox">
              <div class="checkbox checkbox-assertive">
                <input type="checkbox" ng-model="filter.selectedLocation['google-places']" ng-change="locationSelectionChanged('google-places', 'device-gps')">
              </div>
              <div>
                <div style="display:inline-block; padding-right:2px;" ng-click="searchGooglePlaces()">
                  <i class="icon ion-search" ng-click="searchGooglePlaces()"></i>
                </div>
                <div style="display:inline-block;">
                  <input id="location-input" type="text" value=""
                  placeholder="{{ 'menu.location-autocomplete-search-placeholder' | translate }}">
                </div>
              </div>
            </li>
          </ion-item>
<!-- (La altura de este elemento de la lista es algo menor que la del elemento anterior de Autocomplete con div's)-->
          <ion-item class="item-accordion" ng-show="isLocationShown()">
            <ion-checkbox class="checkbox-assertive item-text-wrap" ng-model="filter.selectedLocation['device-gps']"
              ng-change="locationSelectionChanged('device-gps', 'google-places')">
              {{ 'menu.location-gps-button-text' | translate }}
            </ion-checkbox>
          </ion-item>
<!--
          <ion-item class="item-accordion" ng-show="isLocationShown()">
            <li class="item item-checkbox">
              <div class="checkbox checkbox-assertive">
                <input type="checkbox" ng-model="filter.selectedLocation['device-gps']" ng-change="locationSelectionChanged('device-gps', 'google-places')">
              </div>
              <a href="#" class="item" style="padding: 0px; border:0px;" ng-click="searchGooglePlaces()">
                <i class="icon ion-android-locate"></i>&nbsp;{{ 'menu.location-gps-button-text' | translate }}
              </a>
            </li>
          </ion-item>
-->
        <ion-item class="item-text-wrap" menu-close ui-sref="app.about">
          <i class="icon ion-ios-information-outline"></i>
          {{ 'menu.about-item' | translate }}
        </ion-item>
          <ion-toggle ion-toggle-text ng-true-value="'EU'" ng-false-value="'ES'" toggle-class="toggle-assertive"
            ng-model="textByValue" ng-model="selectedLang" ng-change="changeLang()">
            {{ 'menu.language-item' | translate }}
          </ion-toggle>

        <!--<ion-item class="item-text-wrap" menu-close ng-click="exitApp()">
          <i class="icon ion-android-exit"></i>
          {{ 'menu.exit-item' | translate }} -->
        </ion-item>
      </ion-list>
    </ion-content>
  </ion-side-menu>
</ion-side-menus>
